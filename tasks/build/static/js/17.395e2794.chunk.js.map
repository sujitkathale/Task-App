{"version":3,"sources":["components/Login.js"],"names":["regForEmail","RegExp","Login","useState","email","password","state","setState","History","useHistory","handler","event","target","name","value","failure","data","toast","error","position","POSITION","TOP_CENTER","useEffect","localStorage","getItem","push","className","src","width","height","method","onSubmit","preventDefault","console","log","login","then","res","msg","err","setItem","token","success","catch","type","onChange","placeholder","required","test","length","to","configure"],"mappings":"iOAQMA,EAAcC,OAAO,8BAEZ,SAASC,IACtB,MAA0BC,mBAAS,CAAEC,MAAO,GAAIC,SAAU,KAA1D,mBAAOC,EAAP,KAAcC,EAAd,KAEMC,EAAUC,cACVC,EAAU,SAACC,GACf,MAAwBA,EAAMC,OAAtBC,EAAR,EAAQA,KAAMC,EAAd,EAAcA,MACdP,EAAS,2BAAKD,GAAN,kBAAcO,EAAOC,MAKzBC,EAAU,SAACC,GAAD,OACdC,IAAMC,MAAMF,EAAM,CAAEG,SAAUF,IAAMG,SAASC,cAI/CC,qBAAU,WAI+B,OAAnCC,aAAaC,QAAQ,WACvBhB,EAAQiB,KAAK,WAEd,IAgCH,OACE,gCACE,sBAAKC,UAAU,MAAf,UACE,qBAAKA,UAAU,WAAf,SACE,qBAAKC,IAAI,gBAAgBC,MAAO,QAASC,OAAQ,YAGnD,sBAAKH,UAAU,uCAAf,UACE,uBACA,uBACA,sBAAKA,UAAU,4BAAf,UACE,qBAAIA,UAAU,6BAAd,sBACW,wBAAQA,UAAU,cAAlB,4BAEX,uBACA,uBACA,uBAAMI,OAAO,OAAOC,SA9CZ,SAACpB,GACjBA,EAAMqB,iBACN,IAAIhB,EAAO,CAAEZ,MAAOE,EAAMF,MAAOC,SAAUC,EAAMD,UACjD4B,QAAQC,IAAIlB,GACZmB,YAAMnB,GACHoB,MAAK,SAACC,GACLJ,QAAQC,IAAIG,EAAIrB,MAChBiB,QAAQC,IAAIG,EAAIrB,KAAKsB,KAEjBD,EAAIrB,KAAKuB,KACXxB,EAAQsB,EAAIrB,KAAKuB,KACjBN,QAAQC,IAAIG,EAAIrB,QAGhBO,aAAaiB,QAAQ,SAAUH,EAAIrB,KAAKyB,OACxClB,aAAaiB,QAAQ,OAAQxB,EAAKZ,OAClC6B,QAAQC,IAAI5B,EAAMF,OAClB6B,QAAQC,IAAIG,EAAIrB,MAChBR,EAAQiB,KAAK,SAlCL,SAACT,GACfC,IAAMyB,QAAQ1B,EAAM,CAAEG,SAAUF,IAAMG,SAASC,aAmCzCqB,CAAQL,EAAIrB,KAAKsB,SAGpBK,OAAM,SAACJ,GACFA,GACFxB,EAAQ,oDAqBN,UACE,sBAAKW,UAAU,aAAf,UACE,uCACA,uBACEkB,KAAK,QACL/B,KAAK,QACLa,UAAU,sBACVmB,SAAUnC,EACVoC,YAAY,uBACZC,UAAQ,IAEM,IAAfzC,EAAMF,QAAgBJ,EAAYgD,KAAK1C,EAAMF,QAC5C,sBAAMsB,UAAU,eAAhB,sCAGJ,uBAEA,sBAAKA,UAAU,aAAf,UACE,0CACA,uBACEkB,KAAK,WACL/B,KAAK,WACLiC,YAAY,gBACZpB,UAAU,qBACVmB,SAAUnC,IAEO,IAAlBJ,EAAMD,UAAkBC,EAAMD,SAAS4C,OAAS,GAC/C,sBAAMvB,UAAU,eAAhB,yCAGJ,uBACA,uBACA,qBAAKA,UAAU,qBAAf,SACE,uBACEkB,KAAK,SACL9B,MAAM,QACNY,UAAU,yBAIhB,uBAEA,sBAAKA,UAAU,wBAAf,UACE,cAAC,IAAD,CAAMwB,GAAG,OAAT,SACE,sBAAMxB,UAAU,YAAhB,yBAFJ,oBAKE,cAAC,IAAD,CAAMwB,GAAG,UAAT,SACE,sBAAMxB,UAAU,YAAhB,uCAIN,8BAGJ,0BA/HNT,IAAMkC","file":"static/js/17.395e2794.chunk.js","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { login } from \"../config/MyService\";\n\nimport { useHistory } from \"react-router\";\nimport { Link } from \"react-router-dom\";\n\nimport { ToastContainer, toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nconst regForEmail = RegExp(/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/);\ntoast.configure();\nexport default function Login() {\n  const [state, setState] = useState({ email: \"\", password: \"\" });\n\n  const History = useHistory();\n  const handler = (event) => {\n    const { name, value } = event.target;\n    setState({ ...state, [name]: value });\n  };\n\n  const success = (data) =>\n    toast.success(data, { position: toast.POSITION.TOP_CENTER });\n  const failure = (data) =>\n    toast.error(data, { position: toast.POSITION.TOP_CENTER });\n  const warning = (data) =>\n    toast.warn(data, { position: toast.POSITION.TOP_CENTER });\n\n  useEffect(() => {\n    // if (localStorage.getItem(\"_token\") != undefined) {\n    //   localStorage.removeItem(\"_token\");\n    // }\n    if (localStorage.getItem(\"_token\") !== null) {\n      History.push(\"/Dash\");\n    }\n  }, []);\n\n  const postRegis = (event) => {\n    event.preventDefault();\n    let data = { email: state.email, password: state.password };\n    console.log(data);\n    login(data)\n      .then((res) => {\n        console.log(res.data);\n        console.log(res.data.msg);\n\n        if (res.data.err) {\n          failure(res.data.err);\n          console.log(res.data);\n        } else {\n          // localStorage.setItem(\"_token\", res.data.token);\n          localStorage.setItem(\"_token\", res.data.token);\n          localStorage.setItem(\"user\", data.email);\n          console.log(state.email);\n          console.log(res.data);\n          History.push(\"/Dash\");\n\n          success(res.data.msg);\n        }\n      })\n      .catch((err) => {\n        if (err) {\n          failure(\"Oops! :-( There is some issue at our Server!\");\n        }\n      });\n  };\n\n  return (\n    <div>\n      <div className=\"row\">\n        <div className=\"col-lg-4\">\n          <img src=\"images/13.jpg\" width={\"550px\"} height={\"730px\"} />\n        </div>\n\n        <div className=\" col-md-12  col-lg-8 col-sm-12 block\">\n          <br />\n          <br />\n          <div className=\" cardLogin border cardll \">\n            <h3 className=\"text-uppercase text-center\">\n              Login to <strong className=\"text-danger\">TASKMANAGER</strong>\n            </h3>\n            <br />\n            <br />\n            <form method=\"post\" onSubmit={postRegis}>\n              <div className=\"form-group\">\n                <h6>EMAIL</h6>\n                <input\n                  type=\"email\"\n                  name=\"email\"\n                  className=\"form-control block \"\n                  onChange={handler}\n                  placeholder=\"your-email@gmail.com\"\n                  required\n                />\n                {state.email != \"\" && !regForEmail.test(state.email) && (\n                  <span className=\"text-primary\">Enter email correctly</span>\n                )}\n              </div>\n              <br />\n\n              <div className=\"form-group\">\n                <h6>PASSWORD</h6>\n                <input\n                  type=\"password\"\n                  name=\"password\"\n                  placeholder=\"Your Password\"\n                  className=\"form-control block\"\n                  onChange={handler}\n                />\n                {state.password != \"\" && state.password.length < 8 && (\n                  <span className=\"text-primary\">Enter password correctly</span>\n                )}\n              </div>\n              <br />\n              <br />\n              <div className=\"text-center btnlog\">\n                <input\n                  type=\"submit\"\n                  value=\"LOGIN\"\n                  className=\"btn text-center\"\n                />\n              </div>\n            </form>\n            <br />\n\n            <div className=\"container text-center\">\n              <Link to=\"/Reg\">\n                <span className=\"text-dark\">Register </span>\n              </Link>\n              &nbsp;&nbsp;|&nbsp;&nbsp;\n              <Link to=\"/forgot\">\n                <span className=\"text-dark\"> Forgot Password?</span>\n              </Link>\n            </div>\n          </div>\n          <div />\n        </div>\n      </div>\n      <br />\n    </div>\n  );\n}\n"],"sourceRoot":""}